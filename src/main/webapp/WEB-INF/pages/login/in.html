<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>宁波德克诺灯具有限公司</title>

    <!-- Bootstrap -->
    <link href="/dist/gentelella/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="/dist/gentelella/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="/dist/gentelella/vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="/dist/gentelella/vendors/animate.css/animate.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="/dist/gentelella/build/css/custom.min.css" rel="stylesheet">
  </head>

  <body class="login">
    <div>
      <a class="hiddenanchor" id="signup"></a>
      <a class="hiddenanchor" id="signin"></a>

      <div class="login_wrapper">
        <div class="animate form login_form">
          <section class="login_content">
            <form id="loginForm" v-on:submit.prevent="onSubmitForm">
              <h1>用户登录</h1>
              <div class="item">
                <input type="text" v-model="username" id="username" class="form-control" placeholder="用户名" required="required"/>
              </div>
              <div class="item">
                <input type="password" v-model="password" name="password" id="password" class="form-control" placeholder="密码" required="required"/>
                <div style="color: red" >{{ errorMessage }}</div>
              </div>
              <div>
              	<button class="btn" type="submit" >登录</button>
               <!--  <a class="btn btn-default submit" href="index.html">登录</a> -->
              </div>

              <div class="clearfix"></div>

              <div class="separator">

                <div class="clearfix"></div>
                <br />

                
              </div>
            </form>
          </section>
        </div>

       
      </div>
    </div>
	<!-- vuejs -->
	<script src="/js/vue/vue.js"></script>
     <!-- jQuery -->
    <script src="/dist/gentelella/vendors/jquery/dist/jquery.js"></script>
    <!-- Bootstrap -->
    <script src="/dist/gentelella/vendors/bootstrap/dist/js/bootstrap.js"></script>
    <!-- FastClick -->
    <script src="/dist/gentelella/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="/dist/gentelella/vendors/nprogress/nprogress.js"></script>
	<script src="/js/zhbUtil.js"></script>
	<script type="text/javascript">
		var formVue = new Vue({
		  el: '#loginForm',
		  data: {
			  username: '',
			  password: '',
			  errorMessage:''
		  },
		  methods: {
			  onSubmitForm: function() {
					  $.postJson("/checkUser.action", {username: this.username, password: this.password}, function(data) {
						  if(data && data.errorNum == 0) {
							  window.location.href= "/main.action";
						  }else {
							 	 formVue.errorMessage = data.errorMessage;
						  }
					  }); 
			  }
		  }
		});

	</script>
  </body>
</html>